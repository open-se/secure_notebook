"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = configureStore;

var _redux = require("redux");

var _connectedReactRouter = require("connected-react-router");

var _reduxLocalstorage = _interopRequireDefault(require("redux-localstorage"));

var _reduxThunk = _interopRequireDefault(require("redux-thunk"));

var _user = _interopRequireDefault(require("./reducers/user"));

var _user2 = _interopRequireDefault(require("./actions/user"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function configureStore(initialState, routerHistory) {
  const router = (0, _connectedReactRouter.routerMiddleware)(routerHistory);
  const actionCreators = { ..._user2.default,
    push: _connectedReactRouter.push
  };
  const reducers = {
    router: (0, _connectedReactRouter.connectRouter)(routerHistory),
    user: _user.default
  };
  const middlewares = [_reduxThunk.default, router];

  const composeEnhancers = (() => {
    const compose_ = window && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;

    if (process.env.NODE_ENV === 'development' && compose_) {
      return compose_({
        actionCreators
      });
    }

    return _redux.compose;
  })();

  const enhancer = composeEnhancers((0, _redux.applyMiddleware)(...middlewares), (0, _reduxLocalstorage.default)());
  const rootReducer = (0, _redux.combineReducers)(reducers);
  return (0, _redux.createStore)(rootReducer, initialState, enhancer);
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbmRlcmVyL3N0b3JlLmpzIl0sIm5hbWVzIjpbImNvbmZpZ3VyZVN0b3JlIiwiaW5pdGlhbFN0YXRlIiwicm91dGVySGlzdG9yeSIsInJvdXRlciIsImFjdGlvbkNyZWF0b3JzIiwidXNlckFjdGlvbnMiLCJwdXNoIiwicmVkdWNlcnMiLCJ1c2VyIiwibWlkZGxld2FyZXMiLCJ0aHVuayIsImNvbXBvc2VFbmhhbmNlcnMiLCJjb21wb3NlXyIsIndpbmRvdyIsIl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfXyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNvbXBvc2UiLCJlbmhhbmNlciIsInJvb3RSZWR1Y2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7QUFFZSxTQUFTQSxjQUFULENBQXdCQyxZQUF4QixFQUFzQ0MsYUFBdEMsRUFBcUQ7QUFDbEUsUUFBTUMsTUFBTSxHQUFHLDRDQUFpQkQsYUFBakIsQ0FBZjtBQUVBLFFBQU1FLGNBQWMsR0FBRyxFQUNyQixHQUFHQyxjQURrQjtBQUVyQkMsSUFBQUEsSUFBSSxFQUFKQTtBQUZxQixHQUF2QjtBQUtBLFFBQU1DLFFBQVEsR0FBRztBQUNmSixJQUFBQSxNQUFNLEVBQUUseUNBQWNELGFBQWQsQ0FETztBQUVmTSxJQUFBQSxJQUFJLEVBQUpBO0FBRmUsR0FBakI7QUFLQSxRQUFNQyxXQUFXLEdBQUcsQ0FBQ0MsbUJBQUQsRUFBUVAsTUFBUixDQUFwQjs7QUFFQSxRQUFNUSxnQkFBZ0IsR0FBRyxDQUFDLE1BQU07QUFDOUIsVUFBTUMsUUFBUSxHQUFHQyxNQUFNLElBQUlBLE1BQU0sQ0FBQ0Msb0NBQWxDOztBQUNBLFFBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLGFBQXpCLElBQTBDTCxRQUE5QyxFQUF3RDtBQUN0RCxhQUFPQSxRQUFRLENBQUM7QUFBRVIsUUFBQUE7QUFBRixPQUFELENBQWY7QUFDRDs7QUFDRCxXQUFPYyxjQUFQO0FBQ0QsR0FOd0IsR0FBekI7O0FBUUEsUUFBTUMsUUFBUSxHQUFHUixnQkFBZ0IsQ0FBQyw0QkFBZ0IsR0FBR0YsV0FBbkIsQ0FBRCxFQUFrQyxpQ0FBbEMsQ0FBakM7QUFDQSxRQUFNVyxXQUFXLEdBQUcsNEJBQWdCYixRQUFoQixDQUFwQjtBQUVBLFNBQU8sd0JBQVlhLFdBQVosRUFBeUJuQixZQUF6QixFQUF1Q2tCLFFBQXZDLENBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVN0b3JlLCBhcHBseU1pZGRsZXdhcmUsIGNvbWJpbmVSZWR1Y2VycywgY29tcG9zZSB9IGZyb20gJ3JlZHV4JztcclxuaW1wb3J0IHsgY29ubmVjdFJvdXRlciwgcm91dGVyTWlkZGxld2FyZSwgcHVzaCB9IGZyb20gJ2Nvbm5lY3RlZC1yZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgcGVyc2lzdFN0YXRlIGZyb20gJ3JlZHV4LWxvY2Fsc3RvcmFnZSc7XHJcbmltcG9ydCB0aHVuayBmcm9tICdyZWR1eC10aHVuayc7XHJcblxyXG5pbXBvcnQgdXNlciBmcm9tICcuL3JlZHVjZXJzL3VzZXInO1xyXG5pbXBvcnQgdXNlckFjdGlvbnMgZnJvbSAnLi9hY3Rpb25zL3VzZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29uZmlndXJlU3RvcmUoaW5pdGlhbFN0YXRlLCByb3V0ZXJIaXN0b3J5KSB7XHJcbiAgY29uc3Qgcm91dGVyID0gcm91dGVyTWlkZGxld2FyZShyb3V0ZXJIaXN0b3J5KTtcclxuXHJcbiAgY29uc3QgYWN0aW9uQ3JlYXRvcnMgPSB7XHJcbiAgICAuLi51c2VyQWN0aW9ucyxcclxuICAgIHB1c2gsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVkdWNlcnMgPSB7XHJcbiAgICByb3V0ZXI6IGNvbm5lY3RSb3V0ZXIocm91dGVySGlzdG9yeSksXHJcbiAgICB1c2VyLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1pZGRsZXdhcmVzID0gW3RodW5rLCByb3V0ZXJdO1xyXG5cclxuICBjb25zdCBjb21wb3NlRW5oYW5jZXJzID0gKCgpID0+IHtcclxuICAgIGNvbnN0IGNvbXBvc2VfID0gd2luZG93ICYmIHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX187XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgY29tcG9zZV8pIHtcclxuICAgICAgcmV0dXJuIGNvbXBvc2VfKHsgYWN0aW9uQ3JlYXRvcnMgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29tcG9zZTtcclxuICB9KSgpO1xyXG5cclxuICBjb25zdCBlbmhhbmNlciA9IGNvbXBvc2VFbmhhbmNlcnMoYXBwbHlNaWRkbGV3YXJlKC4uLm1pZGRsZXdhcmVzKSwgcGVyc2lzdFN0YXRlKCkpO1xyXG4gIGNvbnN0IHJvb3RSZWR1Y2VyID0gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKTtcclxuXHJcbiAgcmV0dXJuIGNyZWF0ZVN0b3JlKHJvb3RSZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKTtcclxufVxyXG4iXSwiZmlsZSI6InJlbmRlcmVyL3N0b3JlLmpzIn0=
